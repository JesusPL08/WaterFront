<div class="modal-content p-4">
  <h4 class="mb-4">{{ isEditMode ? 'Editar Usuario' : 'Crear Usuario' }}</h4>
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="row g-3">

      <div class="col-md-6">
        <app-form-field
          label="Nombre"
          [control]="getSafeControl('name')"
          type="text">
        </app-form-field>
      </div>

      <div class="col-md-6">
        <app-form-field
          label="Teléfono"
          [control]="getSafeControl('phoneNumber')"
          type="text">
        </app-form-field>
      </div>

      <div class="col-md-6">
        <app-form-field
          label="RFC"
          [control]="getSafeControl('rfc')"
          type="text">
        </app-form-field>
      </div>

      <div class="col-md-6">
        <app-form-field
          label="Perfil"
          [control]="getSafeControl('profileId')"
          type="select"
          [options]="profileOptions"
          placeholder="Selecciona un perfil">
        </app-form-field>
      </div>

      <div class="col-md-6">
        <app-form-field
          label="Sueldo"
          [control]="getSafeControl('salaryId')"
          type="select"
          [options]="salaryOptions"
          placeholder="Selecciona un sueldo">
        </app-form-field>
      </div>

      <div class="col-md-6">
        <app-form-field
          label="Fecha de Contratación"
          [control]="getSafeControl('hiringDate')"
          type="date">
        </app-form-field>
      </div>

      <div class="col-md-6">
        <app-form-field
          label="Sucursal"
          [control]="getSafeControl('branchId')"
          type="select"
          [options]="branchOptions"
          placeholder="No asignada">
        </app-form-field>
      </div>

      <div class="col-md-6">
        <app-form-field
          label="Usuario"
          [control]="getSafeControl('user')"
          type="text"
          [readonly]="isEditMode">
        </app-form-field>
      </div>

      <div class="col-md-6">
        <app-form-field
          label="Contraseña"
          [control]="getSafeControl('password')"
          type="password">
        </app-form-field>
      </div>

    </div>

    <div class="d-flex justify-content-end mt-4">
      <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Guardar</button>
    </div>
  </form>
</div>
